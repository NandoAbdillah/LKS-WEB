<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Canvas Ball</title>

    <style>
      body {
        margin: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
      }

      canvas {
        background-color: green;
      }
    </style>
  </head>
  <body>
    <canvas id="myCanvas" height="400" width="700"> </canvas>

    <script>
      const canvas = document.getElementById("myCanvas"),
        ctx = canvas.getContext("2d"),
        ballRadius = 15;
      let x = -ballRadius,
        y = canvas.offsetHeight / 2,
        stage = 1,
        dx = 0.8,
        dy = 0;
      function drawBall() {
        ctx.clearRect(0, 0, canvas.offsetWidth, canvas.offsetHeight);
        ctx.beginPath();
        ctx.arc(x, y, ballRadius, 0, Math.PI * 2);
        ctx.fillStyle = "white";
        ctx.fill();
        ctx.closePath();
      }

      function animate() {
        if (stage === 1) {
          x += dx;

          if (x >= canvas.offsetWidth - ballRadius) {
            stage = 2;
            dx = 0;
            dy = 0.8;
          }
        } else if (stage === 2) {
          y += dy;

          if(y >= canvas.offsetHeight - ballRadius) {
            stage = 3;
            dx = -0.8;
            dy = 0;
          }
        } else {
          x += dx;

          if(x <= -ballRadius) {
            stage = 1;
            x = -ballRadius,
            y = canvas.offsetHeight / 2;
            dx =0.8;
            dy = 0;
          }
        }

        drawBall();

        requestAnimationFrame(animate)
      }


      animate();

    </script>
  </body>
</html>
